---
permalink: performance-checker/task-responding-to-a-dynamic-performance-event-caused-by-qos-policy-group-throttling.html 
sidebar: sidebar 
keywords:  
summary: '您可以使用Unified Manager调查因服务质量策略组限制工作负载吞吐量导致的性能事件。限制增加了策略组中卷工作负载的响应时间\(延迟\)。您可以使用事件信息确定是否需要对策略组设置新的限制来停止限制。' 
---
= 响应因 QoS 策略组限制而导致的动态性能事件
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以使用Unified Manager调查因服务质量(QoS)策略组限制工作负载吞吐量(MBps)而导致的性能事件。限制增加了策略组中卷工作负载的响应时间（延迟）。您可以使用事件信息确定是否需要对策略组设置新的限制来停止限制。



== 开始之前

* 您必须具有操作员、OnCommand 管理员或存储管理员角色。
* 必须存在新的，已确认的或已废弃的性能事件。




== 步骤

. 显示 * 事件详细信息 * 页面以查看有关事件的信息。
. 请阅读 * 问题描述 * ，其中显示了受限制影响的工作负载的名称。
+
[NOTE]
====
问题描述可以为受影响和抢占资源的用户显示相同的工作负载，因为限制会使工作负载本身受到影响。

====
. 使用文本编辑器等应用程序记录卷的名称。
+
您可以稍后搜索卷名称以查找它。

. 在工作负载延迟和工作负载活动图表中，选择 * 大量工作负载 * 。
. 将光标悬停在图表上方可查看影响策略组的前几个用户定义工作负载。
+
列表顶部的工作负载的偏差最高，并导致发生限制。活动是指每个工作负载所使用的策略组限制的百分比。

. 导航到排名靠前的工作负载的*性能/卷详细信息*页面。
. 选择*细分数据依据*。
. 选中"*延迟"*旁边的复选框以选择所有延迟细分图表。
. 在* IOPS *下、选择"*读取/写入/其他"*。
. 单击 * 提交 * 。
+
细分图表显示在延迟图表和 IOPS 图表下。

. 将*策略组影响*图表与*延迟*图表进行比较、查看在发生事件时限制的百分比影响延迟。
+
策略组的最大吞吐量为每秒1、000次操作(操作/秒)、其中的工作负载总数不能超过此值。在发生事件时，策略组中的工作负载的总吞吐量超过 1 ， 200 次操作 / 秒，从而导致策略组将其活动限制回 1 ， 000 次操作 / 秒策略组影响图表显示限制导致总延迟的10%、从而确认限制导致事件发生。

. 查看*集群组件*图表、该图表按集群组件显示了总延迟。
+
策略组的延迟最高、进一步确认此限制导致了事件。

. 将*读取/写入延迟*图表与*读取/写入/其他*图表进行比较。
+
这两个图表都显示大量延迟较高的读取请求，但写入请求的数量和延迟较低。这些值可帮助您确定是否存在导致延迟增加的大量吞吐量或操作数。在决定对吞吐量或操作设置策略组限制时，可以使用这些值。

. 使用OnCommand 系统管理器将策略组的当前限制增加到1、300次操作/秒
. 一天后、返回Unified Manager并搜索步骤3中记录的工作负载的名称。
+
此时将显示"性能/卷详细信息"页面。

. 选择*细分数据依据*>** IOPS *。
. 单击 * 提交 * 。
+
此时将显示读取 / 写入 / 其他图表。

. 在页面底部、将光标指向更改事件图标(image:../media/opm-change-icon.gif["更改事件图标"]）。
. 将 * 读取 / 写入 / 其他 * 图表与 * 延迟 * 图表进行比较。
+
读取和写入请求相同，但限制已停止，延迟已减少。


